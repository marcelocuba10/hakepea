<ion-header translucent>
  <ion-toolbar color="tertiary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title class="ion-text-center" style="font-weight: 700;">Agregar nuevo Aviso</ion-title>
    <ion-buttons slot="primary">
      <ion-button>
        <ion-icon name="ellipsis-vertical-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content style="overflow: scroll; overflow-y: initial">
  <ion-grid style="background: linear-gradient(180deg,rgba(82, 96, 255, 1) 0%,rgba(61, 38, 232, 1) 100%);border-bottom-left-radius: 50px;border-bottom-right-radius: 50px;">
    <ion-row>
      <ion-col>
        <div class="ion-text-center">
          <img style="width: 25vw;margin-top: 25px;" src="https://firebasestorage.googleapis.com/v0/b/hakepea-9e21a.appspot.com/o/new-post-icon.png?alt=media&token=c4da994b-7a14-432f-a028-7f1c75ad424b" />
        </div>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="1">
      </ion-col>
      <ion-col>
        <div class="ion-text-center">
          <ion-textarea style="background-color: #e5e4fe;border-radius: 20px;padding: 10px 0;margin-top: -25px;" maxlength="500" autofocus inputmode="text"  minlength="20" required [(ngModel)]="post.detail" placeholder="Escribe una descripción consisa..."></ion-textarea>
        </div>
      </ion-col>
            <ion-col size="1">
      </ion-col>
    </ion-row>
    <ion-row class="ion-text-center" style="margin-top: 5px">
      <ion-col>
        <ion-badge style="background-color: #5f6ae6; color: #f1ee13; font-size: 16px">{{post.category}}</ion-badge>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid style="width: 85%;">
    <ion-row>
      <ion-col>
        <div class="ion-text-center">
          <ion-text color="info">
            <h4 style="color: #5c5c5c;font-weight: bold;">Selecciona una categoría</h4>
          </ion-text>
        </div>
      </ion-col>
    </ion-row>
        <ion-row style="text-align: center">
          <ion-col *ngFor="let category of categories" size="4">
            <ion-button (click)="OnClick(category)" style="height: auto;border-radius: 9px;" [ngStyle]="{'border':category.name === btnSelected ? 'rgb(7 9 227 / 71%) solid 6px' : 'transparent' }" [fill]="outline" [color]="category.color">
              <img style="height: 58px; width: 84px" src="{{category.imgpath}}"/>
            </ion-button>
            <ion-label style="font-weight: 500;font-size: 16px;color:#5c5c5c;" [ngStyle]="{'color':category.name === btnSelected ? 'blue' : '#737373' }" >{{category.name}}</ion-label>
          </ion-col>
        </ion-row>
  </ion-grid>
  <ion-grid style="width: 80%;margin-top: -20px;">
      <ion-col size="1">
      </ion-col>
      <ion-col >
      <ion-item>
        <ion-icon color="dark" name="location-outline"></ion-icon><ion-label class="ion-text-center">¿Enviar ubicación actual?</ion-label>
        <ion-toggle color="dark" [(ngModel)]="toggleValue"></ion-toggle>
      </ion-item>
      </ion-col>
      <ion-col size="1">
      </ion-col>
    </ion-grid>  
    <ion-button style="margin: 20px 50px 50px 50px" expand="block" size="large" color="success" (click)="presentAlertConfirm(post)">Enviar <ion-icon style="margin-left: 5px;" name="megaphone-outline"></ion-icon></ion-button>
</ion-content>
